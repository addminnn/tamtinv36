
    :root{
      --bg:#f6fbff;
      --card:#ffffff;
      --ink:#0b1b2b;
      --muted:#5b6b7a;
      --blue:#2563eb;
      --cyan:#38bdf8;
      --border:rgba(15,23,42,.10);
      --shadow: 0 12px 30px rgba(2,6,23,.08);
      --r: 18px;
      --ring: rgba(37,99,235,.18);
      --danger:#ef4444;
      --ok:#22c55e;
      --warn:#f59e0b;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      color:var(--ink);
      background:
        radial-gradient(1200px 500px at 20% -10%, rgba(56,189,248,.18), transparent 60%),
        radial-gradient(1200px 500px at 90% 0%, rgba(37,99,235,.14), transparent 55%),
        linear-gradient(180deg, var(--bg), #fff 60%);
      min-height:100vh;
    }

    /* ===== Login ===== */
    .loginWrap{
      min-height:100vh;
      display:grid;
      place-items:center;
      padding: 22px 14px;
    }
    .loginCard{
      width:min(560px, 100%);
      background: rgba(255,255,255,.88);
      border:1px solid var(--border);
      border-radius: 22px;
      box-shadow: 0 22px 55px rgba(2,6,23,.12);
      overflow:hidden;
    }
    .loginHead{
      padding: 18px 18px 12px;
      border-bottom:1px solid var(--border);
      display:flex;
      gap:12px;
      align-items:center;
      justify-content:space-between;
    }
    .loginBrand{display:flex; gap:10px; align-items:center;}
    .loginLogo{
      width:46px;height:46px;border-radius:16px;
      background: linear-gradient(135deg, var(--blue), var(--cyan));
      box-shadow: 0 14px 30px rgba(37,99,235,.22);
      display:grid; place-items:center;
      color:#fff; font-weight:900;
    }
    .loginTitle h1{margin:0;font-size:16px;line-height:1.15}
    .loginTitle p{margin:4px 0 0;color:var(--muted);font-size:12px;line-height:1.35}
    .loginBody{padding: 16px 18px 18px;}
    .row{display:grid; gap:8px; margin-top:12px;}
    .label{font-weight:900; font-size:12px; color:#0b3b7a;}
    .input{
      width:100%;
      border-radius: 14px;
      border:1px solid var(--border);
      padding: 12px 12px;
      font-size:13px;
      font-weight:800;
      outline:none;
      background: rgba(255,255,255,.92);
      transition: box-shadow .2s ease, border-color .2s ease;
    }
    .input:focus{
      border-color: rgba(37,99,235,.45);
      box-shadow: 0 0 0 6px var(--ring);
    }
    .btn{
      border:1px solid var(--border);
      background: rgba(255,255,255,.88);
      color:var(--ink);
      padding:12px 12px;
      border-radius: 14px;
      font-weight:900;
      cursor:pointer;
      box-shadow: 0 10px 20px rgba(2,6,23,.06);
      transition: transform .06s ease, box-shadow .2s ease, border-color .2s ease;
      font-size:13px;
      white-space:nowrap;
    }
    .btn:hover{border-color: rgba(37,99,235,.35); box-shadow: 0 14px 26px rgba(2,6,23,.08);}
    .btn:active{transform: translateY(1px);}
    .btn.primary{
      background: linear-gradient(135deg, rgba(37,99,235,.95), rgba(56,189,248,.95));
      color:#fff;
      border-color: rgba(37,99,235,.18);
      box-shadow: 0 18px 34px rgba(37,99,235,.20);
    }
    .btn:disabled{opacity:.6; cursor:not-allowed; box-shadow:none;}
    .hint{color:var(--muted); font-size:12px; line-height:1.4; margin-top:10px;}
    .err{margin-top:10px; font-size:12px; color:#b91c1c; font-weight:900; display:none;}
    .chips{display:flex; gap:10px; flex-wrap:wrap; margin-top:12px;}
    .chip{
      padding:8px 10px;
      border-radius:999px;
      border:1px solid var(--border);
      background: rgba(56,189,248,.10);
      font-size:12px;
      color:#0b3b7a;
      font-weight:900;
    }

    /* ===== App wrapper visibility ===== */
    #appRoot{display:none;}

    /* ===== Existing app styles (unchanged) ===== */
    .topbar{
      position:sticky; top:0; z-index:20;
      backdrop-filter: blur(10px);
      background: rgba(246,251,255,.75);
      border-bottom: 1px solid var(--border);
    }
    .topbar-inner{
      max-width: 1260px;
      margin: 0 auto;
      padding: 12px 16px;
      display:flex; align-items:center; justify-content:space-between; gap:12px;
    }
    .brand{display:flex; gap:10px; align-items:center;}
    .logo{
      width:40px;height:40px;border-radius:14px;
      background: linear-gradient(135deg, var(--blue), var(--cyan));
      box-shadow: 0 14px 30px rgba(37,99,235,.22);
      display:grid; place-items:center;
      color:#fff; font-weight:900;
    }
    .brand h1{margin:0;font-size:15px;line-height:1.15}
    .brand p{margin:2px 0 0;color:var(--muted);font-size:12px}
    .pill{
      display:flex; gap:8px; align-items:center;
      padding:8px 10px;
      border:1px solid var(--border);
      background: rgba(255,255,255,.70);
      border-radius:999px;
      font-size:12px;
      color:var(--muted);
      user-select:none;
      white-space:nowrap;
    }
    .dot{width:9px;height:9px;border-radius:999px;background:#94a3b8; box-shadow:0 0 0 6px rgba(148,163,184,.14);}
    .dot.ok{background:var(--ok); box-shadow:0 0 0 6px rgba(34,197,94,.14);}
    .dot.warn{background:var(--warn); box-shadow:0 0 0 6px rgba(245,158,11,.14);}
    .wrap{max-width:1260px; margin:0 auto; padding:16px;}
    .grid{display:grid;grid-template-columns: 340px 1fr;gap:14px;align-items:start;transition: .18s ease;}
    .grid.focus{ grid-template-columns: 1fr; }
    .left.hidden{ display:none; }
    @media (max-width: 1020px){ .grid{grid-template-columns: 1fr;} }
    .card{background: rgba(255,255,255,.86);border: 1px solid var(--border);border-radius: var(--r);box-shadow: var(--shadow);overflow:hidden;}
    .card-h{padding: 12px 14px;border-bottom: 1px solid var(--border);display:flex; align-items:center; justify-content:space-between; gap:10px;}
    .card-h h2{margin:0;font-size:13px}
    .card-h .sub{margin:2px 0 0; font-size:12px; color:var(--muted); line-height:1.3}
    .card-b{padding:12px 14px;}
    .muted{color:var(--muted); font-size:12px; line-height:1.35}
    .sep{height:1px;background: var(--border); margin: 12px 0;}
    .lessonHeader{display:flex; align-items:center; justify-content:space-between;padding: 12px 14px;cursor:pointer;user-select:none;}
    .lessonHeader:hover{ background: rgba(56,189,248,.06); }
    .lessonPick{display:flex; flex-direction:column; gap:3px;}
    .lessonPick .k{font-weight:900; font-size:12px; color:#0b3b7a}
    .lessonPick .t{font-weight:900; font-size:13px}
    .lessonPick .s{font-size:12px; color:var(--muted)}
    .chev{width:34px;height:34px;border-radius: 12px;border:1px solid var(--border);background: rgba(255,255,255,.75);display:grid; place-items:center;transition: transform .18s ease;}
    .chev.open{ transform: rotate(180deg); }
    .lessonDrop{max-height:0;overflow:hidden;transition: max-height .22s ease;border-top: 1px solid var(--border);background: rgba(255,255,255,.55);}
    .lessonDrop.open{ max-height: 520px; }
    .lessonSearch{padding: 10px 12px 0;}
    .searchRow{display:flex; gap:10px; align-items:center;}
    .levelSel{flex:0 0 150px; width:150px; max-width:150px;}
    .tagrow{margin-top:8px; display:flex; gap:8px; flex-wrap:wrap;}
    .tag{font-size:11px;font-weight:900;padding:4px 10px;border-radius:999px;border:1px solid var(--border);background: rgba(255,255,255,.78);color:#0b3b7a;}
    .tag.easy{background: rgba(37,99,235,.08); border-color: rgba(37,99,235,.25); color:#0b3b7a;}
    .tag.hard{background: rgba(245,158,11,.12); border-color: rgba(245,158,11,.35); color:#7c2d12;}
    .tag.adv{background: rgba(34,197,94,.12); border-color: rgba(34,197,94,.35); color:#14532d;}

    .search{width:100%;border-radius: 14px;border:1px solid var(--border);padding: 10px 12px;font-size:12px;font-weight:800;outline:none;background: rgba(255,255,255,.86);}
    .lessonList{padding: 10px 12px 12px;max-height: 470px;overflow:auto;display:flex;flex-direction:column;gap:10px;}
    .item{padding: 11px 12px;border-radius: 16px;border:1px solid var(--border);background: rgba(255,255,255,.74);cursor:pointer;transition: border-color .2s ease, box-shadow .2s ease;position:relative;}
    .item:hover{border-color: rgba(37,99,235,.35); box-shadow: 0 12px 22px rgba(2,6,23,.06);}
    .item.active{border-color: rgba(37,99,235,.55);background: rgba(56,189,248,.10);box-shadow: 0 16px 30px rgba(37,99,235,.12);}
    .item.locked{opacity:.6;cursor:not-allowed;}
    .badge{position:absolute; top:10px; right:10px;font-size:11px; font-weight:900;padding:5px 9px;border-radius:999px;border:1px solid var(--border);background: rgba(255,255,255,.78);color: #0b3b7a;}
    .badge.lock{ color:#7c2d12; background: rgba(245,158,11,.12); border-color: rgba(245,158,11,.28); }
    .badge.pass{ color:#14532d; background: rgba(34,197,94,.12); border-color: rgba(34,197,94,.28); }
    .item .k{font-weight:900;font-size:12px;color:#0b3b7a}
    .item .t{font-weight:900;margin-top:4px;font-size:13px}
    .item .s{font-size:12px;color:var(--muted);margin-top:4px;line-height:1.3}
    .title{display:flex; flex-direction:column; gap:2px;}
    .title h3{margin:0;font-size:14px}
    .title p{margin:0;color:var(--muted);font-size:12px;line-height:1.35}
    .toolbar{display:flex; gap:8px; align-items:center; flex-wrap:wrap;}
    .spacer{flex:1}
    select{border-radius: 12px;border:1px solid var(--border);padding: 9px 10px;background: rgba(255,255,255,.86);font-weight:800;font-size:12px;outline:none;}
    .toggle{width:44px;height:26px;border-radius:999px;border:1px solid var(--border);background: rgba(148,163,184,.18);position:relative; cursor:pointer;flex: 0 0 auto;}
    .toggle::after{content:""; position:absolute; top:50%; left:4px;width:18px;height:18px;border-radius:999px;background:#fff; transform: translateY(-50%);box-shadow: 0 10px 20px rgba(2,6,23,.10);transition:left .18s ease;}
    .toggle.on{background: rgba(34,197,94,.18);border-color: rgba(34,197,94,.30);}
    .toggle.on::after{left:22px;}
    .think-pill{display:flex; gap:10px; align-items:center;padding:8px 10px;border:1px solid var(--border);background: rgba(255,255,255,.70);border-radius:999px;font-size:12px;color:var(--muted);user-select:none;white-space:nowrap;}
    .scorePill{display:flex; gap:10px; align-items:center;padding:8px 10px;border:1px solid var(--border);background: rgba(255,255,255,.70);border-radius:999px;font-size:12px;color:var(--muted);user-select:none;white-space:nowrap;}
    .scorePill b{color:#0b3b7a}
    .editor-wrap{border:1px solid var(--border);border-radius: var(--r);overflow:hidden;background: rgba(255,255,255,.94);box-shadow: 0 18px 40px rgba(2,6,23,.06);}
    .CodeMirror{height: 420px;font-size: 14px;line-height: 1.55;}
    .cm-errorline{background: rgba(239,68,68,.12) !important;border-left: 4px solid rgba(239,68,68,.55) !important;}
    .guard{margin-top: 10px;border:1px solid rgba(56,189,248,.35);background: rgba(56,189,248,.10);border-radius: 16px;padding: 12px;color:#0b3b7a;}
    .guard strong{display:block; margin-bottom:6px;}
    .stageRow{display:flex; gap:8px; flex-wrap:wrap; margin-top:8px;}
    .stage{padding:8px 10px;border-radius:999px;border:1px solid var(--border);background: rgba(255,255,255,.78);font-weight:900;font-size:12px;cursor:pointer;color:#0b3b7a;}
    .stage.active{border-color: rgba(37,99,235,.45);background: rgba(56,189,248,.14);box-shadow: 0 10px 20px rgba(37,99,235,.12);}
    .chips{display:flex; gap:8px; flex-wrap:wrap;margin-top: 10px;}
    .chipBtn{border:1px solid var(--border);background: rgba(255,255,255,.78);border-radius: 999px;padding: 8px 10px;font-weight:900;font-size:12px;color:#0b3b7a;cursor:pointer;transition: border-color .2s ease, box-shadow .2s ease;}
    .chipBtn:hover{ border-color: rgba(37,99,235,.35); box-shadow: 0 12px 20px rgba(2,6,23,.06); }
    .io{display:grid;grid-template-columns: 1fr 1fr;gap:12px;margin-top:12px;}
    @media (max-width: 1020px){ .io{grid-template-columns: 1fr;} }
    textarea{width:100%;min-height: 120px;resize: vertical;border-radius: 16px;border:1px solid var(--border);padding: 12px;font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;font-size:13px;outline:none;background: rgba(255,255,255,.9);transition: box-shadow .2s ease, border-color .2s ease;}
    textarea:focus{border-color: rgba(37,99,235,.45);box-shadow: 0 0 0 6px var(--ring);}
    .console{width:100%;min-height:120px;border-radius: 16px;border:1px solid var(--border);padding: 12px;background: rgba(2,6,23,.92);color: #e2e8f0;font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;font-size:13px;white-space: pre-wrap;overflow:auto;}
    .tabs{display:flex; gap:8px; flex-wrap:wrap;padding: 10px 14px;border-top: 1px solid var(--border);background: linear-gradient(180deg, rgba(37,99,235,.06), rgba(56,189,248,.03));}
    .tab{padding: 9px 10px;border-radius: 999px;border: 1px solid var(--border);background: rgba(255,255,255,.78);font-weight:900;font-size:12px;cursor:pointer;color: #0b3b7a;}
    .tab.active{border-color: rgba(37,99,235,.45);background: rgba(56,189,248,.12);box-shadow: 0 10px 20px rgba(37,99,235,.12);}
    .panel{display:none; padding: 12px 14px;}
    .panel.active{display:block;}
    .hintbox{border:1px solid rgba(56,189,248,.35);background: rgba(56,189,248,.10);border-radius: 16px;padding: 12px;color:#0b3b7a;}
    .hintbox strong{display:block;margin-bottom:6px}
    .ul{margin:8px 0 0; padding-left: 18px;}
    .check{display:grid;grid-template-columns: 1fr 1fr;gap:10px;margin-top:10px;}
    @media (max-width: 1020px){ .check{grid-template-columns: 1fr;} }
    .c{border:1px solid var(--border);background: rgba(255,255,255,.72);border-radius: 14px;padding: 10px 10px;display:flex; gap:10px; align-items:flex-start;}
    .tick{width:18px;height:18px;border-radius:6px;display:grid; place-items:center; font-weight:900;border:1px solid rgba(148,163,184,.35);color:#64748b;background: rgba(148,163,184,.10);margin-top:2px;flex:0 0 auto;}
    .tick.ok{border-color: rgba(34,197,94,.35);background: rgba(34,197,94,.16);color:#15803d;}
    .c .ct{font-size:12px; color:var(--muted); line-height:1.35;}
    .c .ct b{color:var(--ink);}
    .toast{position: fixed;right: 16px; bottom: 16px;background: rgba(2,6,23,.92);color: #e2e8f0;border: 1px solid rgba(148,163,184,.25);border-radius: 16px;padding: 12px 14px;box-shadow: 0 18px 40px rgba(2,6,23,.22);max-width: 560px;display:none;white-space: pre-wrap;z-index: 9999;}
    .CodeMirror-hints{border-radius: 14px !important;border: 1px solid var(--border) !important;box-shadow: 0 18px 40px rgba(2,6,23,.18) !important;padding: 6px !important;}
    .CodeMirror-hint{border-radius: 10px !important;padding: 6px 8px !important;font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace !important;font-size: 12px !important;}
    li.CodeMirror-hint-active{background: rgba(56,189,248,.18) !important;color: #0b3b7a !important;}
    .ghost-inline {position: absolute;pointer-events: none;user-select: none;white-space: pre;z-index: 9999;font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;font-size: 13px;line-height: 1.55;color: rgba(100,116,139,.70);}
    .ghost-inline .hint {padding: 2px 6px;border-radius: 10px;border: 1px solid rgba(15,23,42,.10);background: rgba(255,255,255,.75);box-shadow: 0 10px 22px rgba(2,6,23,.10);}
  
    /* ===== Teacher tables ===== */
    .tableWrap{max-height:420px; overflow:auto; border:1px solid var(--border); border-radius:16px; background: rgba(255,255,255,.78);}
    table.table{width:100%; border-collapse:separate; border-spacing:0; font-size:12px;}
    table.table th, table.table td{padding:10px 10px; border-bottom:1px solid var(--border); text-align:left; vertical-align:top;}
    table.table th{position:sticky; top:0; background: rgba(246,251,255,.92); z-index:2; font-weight:900; color:#0b3b7a;}
    table.table tr:hover td{background: rgba(56,189,248,.06);}
    .kpi{display:flex; gap:10px; flex-wrap:wrap; margin-top:10px;}
    .kpi .chip{background: rgba(34,197,94,.10); border-color: rgba(34,197,94,.22); color:#14532d;}

  

/* ===== Video bài học ===== */
.videoWrap{ width:100%; border-radius:16px; overflow:hidden; border:1px solid rgba(28,89,187,.18); background:rgba(255,255,255,.78); }
.videoWrap iframe{ width:100%; height:420px; border:0; display:block; }
.videoWrap video{ width:100%; height:420px; display:block; }
.videoPlayer{ padding:14px; text-align:center; }
@media (max-width: 980px){
  .videoWrap iframe, .videoWrap video{ height:240px; }
}
